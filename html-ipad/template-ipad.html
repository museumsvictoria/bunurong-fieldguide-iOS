<!doctype html>
<head>
<link href="style.css" rel="stylesheet" type="text/css">
<script>
/* Activate Widget Flip */
	function toggleFlip(objectid) {
		currentobj = document.getElementById(objectid);
 		if (currentobj.className.indexOf("flip") != -1) {
			currentobj.className = currentobj.className.replace( " flip", "");
		} else {
		currentobj.className += " flip";
		}
	}
    
	function toggleVisibility(objectid) {
		currentobj = document.getElementById(objectid);
 		if (currentobj.className.indexOf("invisible") != -1) {
			currentobj.className = currentobj.className.replace( "invisible", "");
		} else {
            currentobj.className += "invisible";
		}
	}
    
    var depthFull = "<%depth%>";
    function loadDepth() {
        alert("depthFull: " + depthFull);
        var depthList = depthFull.split(";;");
        for(var i=0; i<depthList.length; i++) {
            var depth = (depthList[i].split(" "))[0];
            //toggleVisibility("depth"+depth);
            alert("setting: depth" + depth); 
            document.getElementById("depth"+depth).className = "highlighted"; 
        }
    }
    
    var locationFull = "<%location%>";
    function loadLocation() {
        var locationList = locationFull.split(";;");
        for(var i=0; i<locationList.length; i++) {
            //var startLetter = locationList[i].substr(0,1);
            //var location = locationList[i].replace(/ /g, "").toLowerCase();
            //location = location.substr(0,1).toUpperCase() + location.substr(1);
            //toggleVisibility("location"+location);
            
            var location = locationList[i].replace(/ /g, "").toLowerCase();
            toggleVisibility("location_"+location);
        }
    }
    
    var isCommercial = <%isCommercial%>;
    function setCommercial() {
        if (isCommercial) {
            toggleVisibility("isCommercial");
        }
    }
    
    function init() {
        alert("in init"); 
        loadDepth();
        loadLocation();
////        setCommercial();
    }
    
</script>
</head>
<body>

	<div class="leftcolumn">
		<header>
			<h1><%label%></h1>
			<h2><%sublabel%></h2>
		</header>
		<h3 class="<%otherNamesClass%>">Other Common Names</h3><%otherNames%>
		<h3>Identifying Characteristics</h3><%identifyingCharacteristics%>
		<h3>Biology</h3><%biology%>
		<h3 class="<%dietClass%>">Diet</h3><%diet%>
		<h3>Habitat</h3><%habitat%>	
        <h3>Distribution</h3><%distribution%>
        <h3 class="<%biteClass%>">Harmful</h3><%bite%>
        <h3>Global Dispersal</h3><%nativeStatus%>
        <h3 class="<%isCommercialClass%>">Commercial Species</h3><%isCommercial%>
		<table>
			<tr><th colspan="2">Taxonomy</th></tr>
			<tr class="even"><td>Phylum:</td><td><%phylum%></td></tr>
			<tr><td>Class:</td><td><%class%></td></tr>
			<tr class="even"><td>Order:</td><td><%order%></td></tr>
			<tr><td>Family:</td><td><%family%></td></tr>
			<tr class="even"><td>Genus:</td><td><em><%genus%></em></td></tr>
			<tr><td>Species:</td><td><em><%species%></em></td></tr>
		</table>
	</div><!-- end .leftcolumn -->
	
	<div class="rightcolumn">
		<div class="widget" id="distinctive">
			<div class="front">
				<h3>Distinctive Characters</h3>
				<p><%distinctive%></p>
			</div>
		</div>
		<div class="widget" id="locations">
			<div class="front">
				<h3>Commonly Seen<!-- <span class="infobutton" onClick="toggleFlip('locations')"></span> --></h3>
                <div class="locationImage">
                    <div class="location_position visible"><img src="SpeciesLocation_Background.png" width="280px" alt="location background" /></div>
                    <div id="location_abovesurface" class="location_position invisible"><img src="SpeciesLocation_Abovesurface.png" width="280px" alt="location Above surface" /></div>
                    <div id="location_surface" class="location_position invisible"><img src="SpeciesLocation_Surface.png" width="280px" alt="location surface" /></div>
                    <div id="location_midwater" class="location_position invisible"><img src="SpeciesLocation_Midwater.png" width="280px" alt="location mid water" /></div>
                    <div id="location_onornearseafloor" class="location_position invisible"><img src="SpeciesLocation_Onornearseafloor.png" width="280px" alt="location on or near sea floor" /></div>
                </div>
			</div>
			<div class="back">
				<h3>About <span class="light">Commonly Seen</span><span onClick="toggleFlip('locations')" class="button">Done</span></h3>
                <div class="locationImage">
                    <div class="location_position invisible"><img src="SpeciesLocation_Background.png" alt="location background" /></div>
                </div>
				<div class="overlay">
                    <p>This map is based on specimens held in Australia&#8217;s museums. Museums do not collect from all possible locations so these maps may underestimate the actual range of the species. The collections also include historical records, so the map may show localities where a species was once found but is no longer. Interpret this map as &#8216;the species is found within the green highlighted areas where suitable habitat occurs&#8217;.</p>
				</div>
			</div>
		</div>
		<div class="widget" id="depths">
			<div class="front">
				<h3>Depth<!-- <span class="infobutton" onClick="toggleFlip('depths')"></span> --></h3>
                <!--
                <div class="depthWrapperOut"><div class="depthWrapper">
                    <div id="depthDeep"></div>
                    <div id="depthShallow"></div>
                    <div id="depthShore"></div>
                </div></div>
                 -->
                <div class="depthWrapperOut"><div class="depthWrapper">
                    <div id="depthDeep"><img src="depthDeep_01@2x.png" width="77px" alt="depth deep" /></div>
                    <div id="depthShallow"><img src="depthShallow_01@2x.png" width="77px" alt="depth shallow" /></div>
                    <div id="depthShore"><img src="depthShore_01@2x.png" width="77px" alt="depth shore" /></div>
                </div></div>
			</div>
			<div class="back">
				<h3>About <span class="light">Depth</span><span onClick="toggleFlip('depths')" class="button">Done</span></h3>
				<div class="overlay">
                    <p>Depth values indicate possible depth ranges of species habitat, based on Museum Victoria collection data or knowledge of local experts. Shore category is from the intertidal zone to depth of about 1 m. Shallow category is a range between depths of about 1 and 30 m. Deep category is to depths greater than 30 m..</p>
				</div>
			</div>
		</div>
		<div class="widget" id="status">
			<div class="front">
				<h3>Threatened Status<span class="infobutton" onClick="toggleFlip2('status')"></span></h3>
				<ul>
                    <li><img src="icon_local.png" alt="Local" /><div class="track"><span class="<%DSE%>"></span>Local: <%DSE%></div></li>
                    <li><img src="icon_country.png" alt="National" /><div class="track"><span class="<%EPBC%>"></span>National: <%EPBC%></div></li>
                    <li><img src="icon_world.png" alt="Worldwide" /><div class="track"><span class="<%IUCN%>"></span>Worldwide: <%IUCN%></div></li>
				</ul>
			</div>
			<div class="back">
                <h3>About <span class="light">Threatened Status</span><span onClick="toggleFlip2('status')" class="button">Done</span></h3>
                <p>Victorian status is drawn from the <a href="http://www.land.vic.gov.au/DSE/nrenpa.nsf/LinkView/EADA0F1874AF9CF24A2567C1001020A388BBA5581CF9D859CA256BB300271BDB">DSE Advisory Lists of threatened fauna</a>.</p>
                <p>Australian status is drawn from the <a href="http://www.environment.gov.au/cgi-bin/sprat/public/sprat.pl">Environment Protection and Biodiversity Conservation Act 1999</a>.</p>
                <p>Worldwide status is drawn from the <a href="http://www.iucnredlist.org/">IUCN Red List</a>.</p>
				</div>
			</div>
		</div>
	</div><!-- end .rightcolumn -->
	
<script>
    var ll = "<%location%>";
    var locationList = ll.split(";;");
    for(var i=0; i<locationList.length; i++) {
        var lll = locationList[i].replace(/\s/g, "").toLowerCase();
        document.getElementById("location_" + lll).className = "location_position";
    }
    
    var dd = "<%depth%>";
    var depthList = dd.split(";;");
    for(var i=0; i<depthList.length; i++) {
        var depth = (depthList[i].split(" "))[0];
        //toggleVisibility("depth"+depth);
        //document.getElementById("depth"+depth).className = "highlighted";
        document.getElementById("depth"+depth).firstChild.src = "depth"+depth+"_02@2x.png";
    }
    

	function toggleFlip2(objectid) {
		currentobj = document.getElementById(objectid);
 		if (currentobj.className.indexOf("flip") != -1) {
			currentobj.className = currentobj.className.replace( " flip", "");
		} else {
            currentobj.className += " flip";
		}
	}
    // init();
</script>

</body>
</html>